@{
    ViewBag.Title = "Places near " + ViewBag.Destination.ShortName;
}
@Html.Action("_SidePanel", "destinations", new { ViewBag.Destination })
<div id="main-container">
    <div class="panel">
        <div class="panel-title">
            <h1>
                Places near @ViewBag.Destination.ShortName</h1>
        </div>
        <div class="panel-header">
            @PlaceSearchForm(ViewBag.PlaceSearchForm)
        </div>
        <div class="panel-content">
            @foreach (Place place in ViewBag.Places)
            {
                <div class="place">
                    <span class="place-name link">@place.Name</span>
                    <div>
                        [@place.FactualId]
                        @place.Category, @place.Locality, @place.Region, @place.Country
                    </div>
                    <span class="add-place-link link" data-place-id="@place.FactualId">Add to Trip</span>
                </div>
            }
        </div>
    </div>
</div>
@helper PlaceSearchForm(PlaceSearchForm form)
    {
    <form id="places-search-form" action="#">
    <input type="hidden" name="latitude" value="@form.Latitude" />
    <input type="hidden" name="longitude" value="@form.Longitude" />
    <div class="place-search-form-section">
        <div class="distance-slider">
        </div>
        <div class="label">
            within @form.RadiusInMiles miles
        </div>
        <input type="hidden" name="radiusinmiles" value="@form.RadiusInMiles" />
    </div>
    </form>
}